<Window x:Class="OSSimulation.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="OS Simulation - Advanced Process Scheduler"
        Height="850" Width="1500"
        MinHeight="700" MinWidth="1200"
        Background="#0D1117"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="CanResize">

    <!-- Main Content -->
    <Border CornerRadius="12" Background="#0D1117" BorderBrush="#30363D" BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="60"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="40"/>
            </Grid.RowDefinitions>

            <!-- CUSTOM TITLE BAR -->
            <Border Grid.Row="0" Background="#161B22" CornerRadius="12,12,0,0" BorderBrush="#1F6FEB" BorderThickness="0,0,0,2"
                    MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid Margin="25,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Border Background="#1F6FEB" CornerRadius="8" Padding="10,6" Margin="0,0,15,0">
                            <TextBlock Text="⚡" FontSize="20"/>
                        </Border>
                        <StackPanel>
                            <TextBlock Text="OS Simulation Suite" FontSize="18" FontWeight="Bold" Foreground="#C9D1D9"/>
                            <TextBlock Text="Advanced Process Scheduler" FontSize="11" Foreground="#8B949E"/>
                        </StackPanel>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                        <Border Background="#21262D" CornerRadius="6" Padding="15,8" Margin="0,0,15,0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="⏱ " FontSize="14" Foreground="#58A6FF" VerticalAlignment="Center"/>
                                <TextBlock x:Name="SimulationTimeText" Text="{Binding SimulationTime}" FontSize="14" FontWeight="Bold" Foreground="#58A6FF" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Border>

                        <Button Content="🗕" Width="35" Height="30" Background="Transparent" Foreground="#8B949E" BorderThickness="0" FontSize="16" Click="Minimize_Click" Cursor="Hand"/>
                        <Button Content="🗖" Width="35" Height="30" Background="Transparent" Foreground="#8B949E" BorderThickness="0" FontSize="14" Click="Maximize_Click" Cursor="Hand"/>
                        <Button Content="✕" Width="35" Height="30" Background="Transparent" Foreground="#F85149" BorderThickness="0" FontSize="16" Click="Close_Click" Cursor="Hand"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- MAIN CONTENT -->
            <Grid Grid.Row="1" Margin="15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="340"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- LEFT SIDEBAR -->
                <Border Grid.Column="0" Background="#161B22" CornerRadius="10" Margin="0,0,10,0" Padding="20">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- CONTROL BUTTONS -->
                        <StackPanel Grid.Row="0">
                            <TextBlock Text="🎮 Controls" FontSize="16" FontWeight="Bold" Foreground="#C9D1D9" Margin="0,0,0,15"/>

                            <Button Click="CreateProcess_Click" Style="{StaticResource ModernButton}" Margin="0,0,0,10" Background="#1F6FEB">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="➕ " FontSize="16" Margin="0,0,5,0"/>
                                    <TextBlock Text="Create Process"/>
                                </StackPanel>
                            </Button>

                            <Button Click="AutoGenerate_Click" Style="{StaticResource ModernButton}" Margin="0,0,0,10" Background="#8957E5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="✨ " FontSize="16" Margin="0,0,5,0"/>
                                    <TextBlock Text="Generate 10 Processes"/>
                                </StackPanel>
                            </Button>

                            <Grid Margin="0,5,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <Button Grid.Column="0" Click="Start_Click" Style="{StaticResource ModernButton}" Margin="0,0,5,0" Background="#238636">
                                    <TextBlock Text="▶ Start"/>
                                </Button>

                                <Button Grid.Column="1" Click="Pause_Click" Style="{StaticResource ModernButton}" Margin="5,0,0,0" Background="#DA3633">
                                    <TextBlock Text="⏸ Pause"/>
                                </Button>
                            </Grid>

                            <Separator Background="#30363D" Margin="0,20,0,20" Height="1"/>
                        </StackPanel>

                        <!-- PROCESS LIST -->
                        <Border Grid.Row="1" Background="#0D1117" CornerRadius="8" Padding="15">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,12">
                                    <TextBlock Text="📋 " FontSize="16" Foreground="#58A6FF" VerticalAlignment="Center"/>
                                    <TextBlock Text="Active Processes" FontSize="15" FontWeight="SemiBold" Foreground="#C9D1D9" VerticalAlignment="Center"/>
                                </StackPanel>

                                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                                    <ItemsControl x:Name="ProcessListControl" ItemsSource="{Binding ProcessList}">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border Background="#161B22" 
                    CornerRadius="6" 
                    Padding="10" 
                    Margin="0,0,0,8" 
                    BorderBrush="{Binding StateColor}" 
                    BorderThickness="2">
                                                    <StackPanel>
                                                        <TextBlock Text="{Binding Name, Mode=OneWay}" 
                               FontSize="14" 
                               FontWeight="Bold" 
                               Foreground="#C9D1D9"/>

                                                        <TextBlock FontSize="11" 
                               Foreground="{Binding StateColor}" 
                               Margin="0,2,0,0">
                        <Run Text="State: "/>
                        <Run Text="{Binding State, Mode=OneWay}"/>
                                                        </TextBlock>

                                                        <ProgressBar Value="{Binding Progress, Mode=OneWay}" 
                                 Maximum="1" 
                                 Height="4" 
                                 Margin="0,5,0,0" 
                                 Foreground="{Binding StateColor}"/>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </ScrollViewer>
                            </Grid>
                        </Border>
                    </Grid>
                </Border>

                <!-- RIGHT PANEL -->
                <Grid Grid.Column="1" Margin="10,0,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="260"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- METRICS DASHBOARD -->
                    <Border Grid.Row="0" Background="#161B22" CornerRadius="10" Padding="25" Margin="0,0,0,15">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                                <TextBlock Text="📊 " FontSize="18" Foreground="#58A6FF" VerticalAlignment="Center"/>
                                <TextBlock Text="System Metrics" FontSize="17" FontWeight="Bold" Foreground="#C9D1D9" VerticalAlignment="Center"/>
                            </StackPanel>

                            <UniformGrid Grid.Row="1" Columns="4" Rows="1">
                                <!-- CPU -->
                                <Border Background="#0D1117" CornerRadius="8" Padding="20" Margin="0,0,10,0" BorderBrush="#1F6FEB" BorderThickness="2">
                                    <StackPanel>
                                        <TextBlock Text="💻" FontSize="32" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                        <TextBlock Text="CPU Usage" FontSize="11" Foreground="#8B949E" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                                        <TextBlock x:Name="CpuUtilizationText" Text="{Binding CpuUtilization}" FontSize="26" FontWeight="Bold" Foreground="#58A6FF" HorizontalAlignment="Center"/>
                                    </StackPanel>
                                </Border>

                                <!-- Wait Time -->
                                <Border Background="#0D1117" CornerRadius="8" Padding="20" Margin="5,0,5,0" BorderBrush="#F0883E" BorderThickness="2">
                                    <StackPanel>
                                        <TextBlock Text="⏱️" FontSize="32" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                        <TextBlock Text="Avg Wait" FontSize="11" Foreground="#8B949E" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                                        <TextBlock x:Name="AvgWaitTimeText" Text="{Binding AvgWaitTime}" FontSize="26" FontWeight="Bold" Foreground="#F0883E" HorizontalAlignment="Center"/>
                                    </StackPanel>
                                </Border>

                                <!-- Throughput -->
                                <Border Background="#0D1117" CornerRadius="8" Padding="20" Margin="5,0,5,0" BorderBrush="#3FB950" BorderThickness="2">
                                    <StackPanel>
                                        <TextBlock Text="⚡" FontSize="32" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                        <TextBlock Text="Throughput" FontSize="11" Foreground="#8B949E" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                                        <TextBlock x:Name="ThroughputText" Text="{Binding Throughput}" FontSize="26" FontWeight="Bold" Foreground="#3FB950" HorizontalAlignment="Center"/>
                                    </StackPanel>
                                </Border>

                                <!-- Total -->
                                <Border Background="#0D1117" CornerRadius="8" Padding="20" Margin="10,0,0,0" BorderBrush="#8957E5" BorderThickness="2">
                                    <StackPanel>
                                        <TextBlock Text="📁" FontSize="32" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                        <TextBlock Text="Total" FontSize="11" Foreground="#8B949E" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                                        <TextBlock x:Name="TotalProcessesText" Text="{Binding TotalProcesses}" FontSize="26" FontWeight="Bold" Foreground="#8957E5" HorizontalAlignment="Center"/>
                                    </StackPanel>
                                </Border>
                            </UniformGrid>
                        </Grid>
                    </Border>

                    <!-- ACTIVITY LOG -->
                    <Border Grid.Row="1" Background="#161B22" CornerRadius="10" Padding="25">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                                <TextBlock Text="📜 " FontSize="18" Foreground="#58A6FF" VerticalAlignment="Center"/>
                                <TextBlock Text="Activity Log" FontSize="17" FontWeight="Bold" Foreground="#C9D1D9" VerticalAlignment="Center"/>
                            </StackPanel>

                            <Border Grid.Row="1" Background="#0D1117" CornerRadius="8" Padding="15">
                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                    <ItemsControl x:Name="ActivityLog" ItemsSource="{Binding ActivityLog}">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding}" FontSize="12" Foreground="#8B949E" Margin="0,2" TextWrapping="Wrap"/>
                                            </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </ScrollViewer>
                            </Border>
                        </Grid>
                    </Border>
                </Grid>
            </Grid>

            <!-- STATUS BAR -->
            <Border Grid.Row="2" Background="#161B22" CornerRadius="0,0,12,12" BorderBrush="#30363D" BorderThickness="0,1,0,0">
                <Grid Margin="25,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Ellipse x:Name="StatusIndicator" Width="10" Height="10" Fill="#3FB950" Margin="0,0,10,0"/>
                        <TextBlock x:Name="StatusText" Text="{Binding StatusText}" FontSize="12" Foreground="#8B949E"/>
                    </StackPanel>
                    <TextBlock Text="OS Simulation v1.0 | Powered by .NET 8" FontSize="11" Foreground="#6E7681" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
